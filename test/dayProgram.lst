
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	C:\AK Nahin\Academic Resources\24 hour clock with assembly language for 8052\test\dayProgram.asm
	Object File:	C:\AK Nahin\Academic Resources\24 hour clock with assembly language for 8052\test\dayProgram.hex
	List File:	C:\AK Nahin\Academic Resources\24 hour clock with assembly language for 8052\test\dayProgram.lst



 Line  I  Addr  Code            Source

    1:		N      0000	ORG 	00H
    2:	  0000	75 81 70	MOV	SP, #70H
    3:	  0003	75 D0 00	MOV 	PSW, #00H
    4:		B      00B3	RS	EQU P3.3
    5:		B      00B4	RW 	EQU P3.4
    6:		B      00B5	ENBL	EQU P3.5
    7:	  0006	78 00		mov r0,#0h
    8:	  0008	79 00		mov r1,#0h
    9:	  000A	7A 00		mov r2,#0h
   10:	  000C	7B 00		mov r3,#0h
   11:	  000E	7C 00		mov r4,#0h
   12:	  0010	7D 00		mov r5,#0h
   13:	  0012	7E 00		mov r6,#0h
   14:	  0014	7F 00		mov r7,#0h
   15:
   16:	  0016	74 38				MOV	A, #38H			;init. LCD 2 lines, 5x7 matrix
   17:	  0018	12 00 7C			LCALL	COMMAND		;call command subroutine
   18:	  001B	12 00 AD			LCALL DELAY			;give LCD some time
   19:	  001E	74 0E				MOV 	A, #0EH			;dispplay on, cursor on
   20:	  0020	12 00 7C			LCALL	COMMAND		;call command subroutine
   21:	  0023	12 00 AD			LCALL 	DELAY			;give LCD some time
   22:	  0026	74 01				MOV	A, #01			;clear LCD
   23:	  0028	12 00 7C			LCALL	COMMAND		;call command subroutine
   24:	  002B	12 00 AD			LCALL 	DELAY			;give LCD some time
   25:	  002E	74 06				MOV	A, #06H			;shift cursor right
   26:	  0030	12 00 7C			LCALL	COMMAND		;call command subroutine
   27:	  0033	12 00 AD			LCALL 	DELAY			;give LCD some time
   28:	  0036	74 82				MOV	A, #82H			;cursor at line 1 postion 1
   29:	  0038	12 00 7C			LCALL	COMMAND		;call command subroutine
   30:	  003B	12 00 AD			LCALL DELAY			;give LCD some time
   31:	  003E	11 AD				ACALL 	DELAY
   32:	  0040	90 00 B6			MOV DPTR, #MSG_1
   33:	  0043	85 82 43			mov 43h, dpl
   34:	  0046			start:
   35:
   36:	  0046	74 82				MOV A, #082H
   37:	  0048	11 7C				ACALL 	COMMAND
   38:	  004A	11 AD				ACALL 	DELAY
   39:	  004C	E4				CLR 	A
   40:	  004D	74 3A				MOV	A,#3ah
   41:	  004F	12 00 8C			LCALL 	DISPLAY
   42:	  0052	12 00 AD			LCALL 	DELAY
   43:

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44:
   45:	  0055	75 41 C2			mov 41h,#0c2H
   46:
   47:
   48:	  0058	75 40 03			mov 40h,#3
   49:	  005B	E5 41		l1:		MOV A, 41h
   50:	  005D	11 7C				ACALL 	COMMAND
   51:	  005F	11 AD				ACALL 	DELAY
   52:	  0061	E4				CLR 	A
   53:	  0062	93				MOVC 	A,@A+DPTR
   54:	  0063	A8 82				mov r0,dpl
   55:	  0065	08				inc r0
   56:	  0066	60 0F				jz FINISH
   57:	  0068	12 00 8C			LCALL 	DISPLAY
   58:	  006B	12 00 AD			LCALL 	DELAY
   59:	  006E	88 82				mov dpl,r0
   60:	  0070	05 41				inc 41h
   61:	  0072	D5 40 E6			djnz 40h,l1
   62:
   63:
   64:
   65:	  0075	80 CF		sjmp start
   66:
   67:	  0077			FINISH:
   68:	  0077	85 43 82			mov dpl,43h
   69:	  007A	80 DF				sjmp l1
   70:
   71:
   72:	  007C			COMMAND:
   73:	  007C	12 00 9D			LCALL READY
   74:	  007F	F5 A0		 		MOV P2,A
   75:	  0081	C2 B3				CLR P3.3
   76:	  0083	C2 B4				CLR P3.4
   77:	  0085	D2 B5				SETB P3.5
   78:	  0087	11 AD				ACALL DELAY
   79:	  0089	C2 B5				CLR P3.5
   80:	  008B	22				RET
   81:	  008C			DISPLAY:
   82:	  008C	12 00 9D			LCALL 	READY
   83:	  008F	F5 A0				MOV P2, A
   84:	  0091	D2 B3				SETB 	RS
   85:	  0093	C2 B4			  	CLR 	RW
   86:	  0095	D2 B5				SETB 	ENBL
   87:	  0097	12 00 AD			LCALL 	DELAY
   88:	  009A	C2 B5			  	CLR 	ENBL
   89:	  009C	22				RET
   90:
   91:	  009D			READY:
   92:	  009D	D2 A7				SETB 	P2.7
   93:	  009F	C2 B3		 		CLR 	RS
   94:	  00A1	D2 B4		  		SETB 	RW
   95:	  00A3			WAIT:
   96:	  00A3	C2 B5				CLR 	ENBL
   97:	  00A5	11 AD				ACALL 	DELAY
   98:	  00A7	D2 B5		  		SETB 	ENBL
   99:	  00A9	20 A7 F7			JB 	P2.7, WAIT

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:	  00AC	22		   		RET
  101:	  00AD			DELAY:
  102:	  00AD	7D 32				MOV 	R5, #50
  103:	  00AF			AGAIN_2:
  104:	  00AF	7C FF				MOV 	R4, #255
  105:	  00B1			AGAIN:
  106:	  00B1	DC FE				DJNZ 	R4, AGAIN
  107:	  00B3	DD FA				DJNZ R5, AGAIN_2
  108:	  00B5	22				RET
  109:
  110:	  00B6			MSG_1:
  111:	  00B6	73 61 74 73			DB 'satsunmontuewedthufri',0
	  00BA	75 6E 6D 6F
	  00BE	6E 74 75 65
	  00C2	77 65 64 74
	  00C6	68 75 66 72
	  00CA	69 00
  112:						END





                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6
ACC				  DATA	      E0
AGAIN				  CODE	    00B1	 105
AGAIN_2				  CODE	    00AF	 103
B				  DATA	      F0
COMMAND				  CODE	    007C	  72
CY				  BIT	      D7
DELAY				  CODE	    00AD	 101
DISPLAY				  CODE	    008C	  81
DPH				  DATA	      83
DPL				  DATA	      82
EA				  BIT	      AF
ENBL				  NUMBER    00B5	   6
ES				  BIT	      AC
ET0				  BIT	      A9
ET1				  BIT	      AB
EX0				  BIT	      A8
EX1				  BIT	      AA
EXTI0				  CODE	    0003
EXTI1				  CODE	    0013
F0				  BIT	      D5
FINISH				  CODE	    0077	  67
IE				  DATA	      A8
IE0				  BIT	      89
IE1				  BIT	      8B
INT0				  BIT	      B2
INT1				  BIT	      B3
IP				  DATA	      B8
IT0				  BIT	      88
IT1				  BIT	      8A
L1				  CODE	    005B	  49
MSG_1				  CODE	    00B6	 110
OV				  BIT	      D2
P				  BIT	      D0
P0				  DATA	      80
P1				  DATA	      90
P2				  DATA	      A0
P3				  DATA	      B0
PCON				  DATA	      87
PS				  BIT	      BC
PSW				  DATA	      D0
PT0				  BIT	      B9
PT1				  BIT	      BB
PX0				  BIT	      B8
PX1				  BIT	      BA
RB8				  BIT	      9A
RD				  BIT	      B7
READY				  CODE	    009D	  91

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
REN				  BIT	      9C
RESET				  CODE	    0000
RI				  BIT	      98
RS				  NUMBER    00B3	   4
RS0				  BIT	      D3
RS1				  BIT	      D4
RW				  NUMBER    00B4	   5
RXD				  BIT	      B0
SBUF				  DATA	      99
SCON				  DATA	      98
SINT				  CODE	    0023
SM0				  BIT	      9F
SM1				  BIT	      9E
SM2				  BIT	      9D
SP				  DATA	      81
START				  CODE	    0046	  34
T0				  BIT	      B4
T1				  BIT	      B5
TB8				  BIT	      9B
TCON				  DATA	      88
TF0				  BIT	      8D
TF1				  BIT	      8F
TH0				  DATA	      8C
TH1				  DATA	      8D
TI				  BIT	      99
TIMER0				  CODE	    000B
TIMER1				  CODE	    001B
TL0				  DATA	      8A
TL1				  DATA	      8B
TMOD				  DATA	      89
TR0				  BIT	      8C
TR1				  BIT	      8E
TXD				  BIT	      B1
WAIT				  CODE	    00A3	  95
WR				  BIT	      B6
